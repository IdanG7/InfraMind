---
# Example secrets file - DO NOT commit actual secrets to version control
# Copy this file to secrets.yaml and replace with your actual values
# Then create in cluster: kubectl apply -f secrets.yaml

apiVersion: v1
kind: Secret
metadata:
  name: inframind-secrets
  namespace: infra
  labels:
    app: inframind
type: Opaque
stringData:
  # API Key for InfraMind API
  api-key: "CHANGE-ME-production-api-key-min-32-characters"

  # PostgreSQL credentials
  postgres-password: "CHANGE-ME-strong-postgres-password"
  database-url: "postgresql://inframind:CHANGE-ME-strong-postgres-password@postgres.infra.svc.cluster.local:5432/inframind"

  # PostgreSQL exporter DSN
  postgres-exporter-dsn: "postgresql://inframind:CHANGE-ME-strong-postgres-password@localhost:5432/inframind?sslmode=disable"

  # Redis credentials
  redis-password: "CHANGE-ME-strong-redis-password"
  redis-url: "redis://:CHANGE-ME-strong-redis-password@redis.infra.svc.cluster.local:6379/0"

  # MinIO/S3 credentials
  minio-access-key: "CHANGE-ME-minio-access-key"
  minio-secret-key: "CHANGE-ME-minio-secret-key-min-32-chars"

  # Grafana admin password
  grafana-admin-password: "CHANGE-ME-grafana-admin-password"

---
# Alternative: Use external secrets operator with cloud provider secret managers
# Example for AWS Secrets Manager:
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: inframind-secrets
#   namespace: infra
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: aws-secrets-manager
#     kind: SecretStore
#   target:
#     name: inframind-secrets
#     creationPolicy: Owner
#   data:
#   - secretKey: api-key
#     remoteRef:
#       key: inframind/api-key
#   - secretKey: postgres-password
#     remoteRef:
#       key: inframind/postgres-password
#   # ... etc

---
# For generating secure random passwords, use:
# openssl rand -base64 32
# or
# kubectl create secret generic inframind-secrets \
#   --from-literal=api-key=$(openssl rand -hex 32) \
#   --from-literal=postgres-password=$(openssl rand -base64 32) \
#   --from-literal=redis-password=$(openssl rand -base64 32) \
#   --from-literal=minio-access-key=$(openssl rand -hex 16) \
#   --from-literal=minio-secret-key=$(openssl rand -base64 32) \
#   --from-literal=grafana-admin-password=$(openssl rand -base64 16) \
#   --dry-run=client -o yaml > secrets.yaml
